% +---------------------------------------------------------------------------+
% | japanese-script.tex                                                       |
% |                                                                           |
% | This latex file can be used to create script based books.                 |
% |                                                                           |
% | - japanese-script-hiragana-english.pdf                                    |
% | - japanese-script-hiragana-ngerman.pdf                                    |
% | - japanese-script-katakana-english.pdf                                    |
% |                                                                           |
% | The release and its version is handled independently                      |
% |                                                                           |
% | Version: 0.1.0 (Version of this file, not books)                          |
% |                                                                           |
% | Changes:                                                                  |
% |                                                                           |
% |     - Kana count commands to preamble                                     |
% |     - Move path commands to preamble                                      |
% |     - Improve comment                                                     |
% | 0.1.0 2022-07-08 Christian Külker <c@c8i.org>                             |
% |     - Initial release with version as japanese-script.tex                 |
% |                                                                           |
% +---------------------------------------------------------------------------+
%
% Global variables (from make)
%
%  make              LaTeX              Remark
%  ----------------- ------------------ -------------------------------------
%  JAUTHOR           \jauthor           cfg/JTOPIC/JLANG/Makefile.in
%  JDATE             \jdate             in/Makefile.in
%  JDEDICATION       \jdedication       cfg/JTOPIC/JLANG/Makefile.in
%  JLANG             \jlang             english|ngerman
%  JNUMBER           \jnumber           cfg/JTOPIC/JLANG/Makefile.in
%  JREVISION         \jrevision         in/Makefile.in
%  JSCRIPT           \jscript           Ucfirst derived from JTOPIC (in/Makefile.in)
%  JTOPIC            \jtopic            hiragana|katakana
%  JVERSION          \jversion          cfg/JTOPIC/JLANG/Makefile.in
%  JVOLUME           \jvolume           cfg/JTOPIC/JLANG/Makefile.in
%  JTITLEJAPANESE    \jtitlejapanese    cfg/JTOPIC/JLANG/Makefile.in
%  JSUBTITLEJAPANESE \jsubtitlejapanese cfg/JTOPIC/JLANG/Makefile.in
%  JLANGUAGEJAPANESE \jlanguagejapanese cfg/JTOPIC/JLANG/Makefile.in
%  JTITLEORIGINAL    \jtitleoriginal    cfg/JTOPIC/JLANG/Makefile.in
%  JSUBTITLEORIGINAL \jsubtitleoriginal cfg/JTOPIC/JLANG/Makefile.in
%  JLANGUAGEORIGINAL \jlanguageoriginal cfg/JTOPIC/JLANG/Makefile.in
%
\documentclass[makeidx=yes,version=last,paper=a4,headings=small,titlepage,makeidx,fontsize=12pt]{scrbook}
\input{../share/preamble/standard-english}

% === [ COMMANDS ] ============================================================
% --- [ SIMPLE COMMANDS ] -----------------------------------------------------
\input{../share/cmd/Hletter}
\input{../share/cmd/HLETTER}
\input{../share/cmd/Kletter}
\input{../share/cmd/KLETTER}
\input{../share/cmd/Link}     % Blue arrow for external link
\input{../share/cmd/Padding}  % add space between content and lines
\input{../share/cmd/Pitch}    % Red pitchline for Japanese intonation
% --- [ PARAGRAPH COMMANDS ] --------------------------------------------------
\input{../share/box/Warn} % red   - additional dangerous info reg. lang ONLY KATAKANA?
\input{../share/box/Hint} % blue  - additional important info reg. lang
\input{../share/box/Info} % green - additional important info
\input{../share/box/Note} % gray  - additional info
\input{../share/cmd/Hrow} % 6 parameters
\input{../share/cmd/Krow} % 6 parameters
\input{../share/cmd/Transcibe}            % Training: Transcribe
\input{../share/env/TranscribeEnv}
\input{../share/cmd/KanaSimpleTraining}
\input{../share/cmd/CharacterExplanation} % ONLY KATAKANA?
% --- [ PAGE COMMANDS ] -------------------------------------------------------
\input{../share/\jtopic/training.tex}
\input{../share/\jtopic/header.tex}

\begin{document}
\fontspec{FreeSans}
% === [ TITLE ] ===============================================================
\includepdf[pages={1}]{title.pdf}
%\plainfootnotes
% === [ FRONT ] ===============================================================
  \frontmatter
    \pagestyle{empty}
    %\pagestyle{plain}
    \input{\jppage/Halftitle}    % publisher             i Schmuztitel
    \input{\jppagelt/Frontispiece}% author or publisher  ii Frontispitz
    \input{\jppage/Titlepage}    % publisher           iii Haupttitel
    \input{\jppagel/Colophon}    % printer              iv Impressum
    \tableofcontents*
    \newpage
    \listoffigures
    \newpage
    \listoftables
    \newpage
    \listofjchapter
    \bigskip
    \pagestyle{fancy}
    %\input{\jpchapl/Foreword}% foreword Vorwort        (3p)      -empty
    %\input{\jpchapl/Preface}%  preface  Vorbemerkungen (author, I)

% === [ MAIN  ] ===============================================================
  \mainmatter
    %\pagestyle{mypagestyle}
    %\VerbatimFootnotes
    \input{\jpchapl/Introduction}         % 0 chap:Introduction
    \input{\jpchapl/JapaneseWritingSystem}% 1 chap:The Japanese Writing System
    \input{\jpchapl/TheWayToWrite}        % 2 chap:The Way to Write (Hiragana|Katakana)
    \input{\jpchapl/Pronunciation}        % 3 chap:Pronunciation
    \input{\jpchapl/Training}             % 4 chap:{Katakana | Hiragana} Training
    \input{\jpchapl/Terminology}          % 5 chap:Terminology

% === [ APPENDIX ] ============================================================
\appendix

\input{\jpchapl/TablesKana}                % A chap:KanaTables
\input{\jpchapl/TablesRomaji}              % B chap:RomajiTables
\input{\jpchapl/TechnicalTerms}            % C chap:JapaneseTechnicalTerms

% INDEX

\phantomsection
\addcontentsline{toc}{chapter}{Indices}\jindex{索引}
%\chapter{Indices}
\fontspec{FreeSans}
\normalsize

% OLD: multind
%\phantomsection
%\printindex{english}{English: Terms}\jsubindex{英語専門用語索引}
%\label{chap:EnglishIndex}
%\phantomsection
%\printindex{japanese}{Japanese: Index}\jsubindex{日本語専門用語索引}
%\label{chap:JapaneseIndex}
%\phantomsection
%\printindex{german}{Deutsch: Fachbegriffe}\jsubindex{独逸語専門用語索引}
%\label{chap:GermanIndex}

% NEW: imakeidx 2022-06-24
\phantomsection
\clearpage
\begingroup
\addcontentsline{toc}{section}{English: Terms}\jsubindex{英語専門用語索引}
% \fbox* settings to fix the code in ../share/makeindex/english.ist
\setlength{\fboxsep}{5pt}%
\setlength{\fboxrule}{0pt}%
\printindex[english]
\label{chap:EnglishIndex}
\endgroup

\phantomsection
\clearpage
\begingroup
\addcontentsline{toc}{section}{Japanese: Index}\jsubindex{日本語専門用語索引}
\printindex[japanese]
\label{chap:JapaneseIndex}
\endgroup

\phantomsection
\clearpage
\begingroup
\addcontentsline{toc}{section}{Deutsch: Fachbegriffe}\jsubindex{独逸語専門用語索引}
% \fbox* settings to fix the code in ../share/makeindex/german.ist
\setlength{\fboxsep}{5pt}%
\setlength{\fboxrule}{0pt}%
\printindex[german]
\label{chap:GermanIndex}
\endgroup

% === [ BACK  ] ===============================================================

\backmatter

\input{\jpchapl/GNUFDL}% German version gets English license

\end{document}
